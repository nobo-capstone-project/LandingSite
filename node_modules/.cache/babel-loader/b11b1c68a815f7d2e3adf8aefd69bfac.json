{"ast":null,"code":"import _toConsumableArray from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/src/PopupText.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nvar PopupText =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PopupText, _Component);\n\n  function PopupText(props) {\n    var _this;\n\n    _classCallCheck(this, PopupText);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PopupText).call(this, props));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      key: \"\",\n      commentsOb: {},\n      comments: null,\n      comment: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(PopupText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Create a reference to the \"tweets\" reference on the \n      console.log(this.props.info);\n      var pkey = this.props.info.attributes.OBJECTID;\n      this.commentsRef = firebase.database().ref('comments').child(pkey); // When the \"tweets\" *value* changes, update the state appropriately (`tweets`)\n\n      this.commentsRef.on('value', function (snapshot) {\n        var values = snapshot.val();\n        console.log(values); // let values = [\"empty\", \"empty1\"];\n\n        _this2.setState({\n          comments: values\n        });\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        comment: e.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var values = this.state.comments;\n\n      var update = _toConsumableArray(values).concat([this.state.comment]);\n\n      console.log(update);\n      this.setState({\n        comments: update\n      });\n      this.commentsRef.push(this.state.comment).catch(function (d) {\n        return console.log(\"error\", d);\n      });\n      e.preventDefault();\n      e.target.reset();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.comments);\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Type:\"), \" Street Parking\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Location:\"), \" \", this.props.info.attributes.UNITDESC), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Paid Parking Hours and Rates:\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Monday - Friday: \", this.props.info.attributes.START_TIME_WKD, \" to \", this.props.info.attributes.END_TIME_WKD), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Morning: $\", this.props.info.attributes.WKD_RATE1, \" / hr\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Afternoon: $\", this.props.info.attributes.WKD_RATE2, \" / hr\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Evening: $\", this.props.info.attributes.WKD_RATE3, \" / hr\"))), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Saturday: \", this.props.info.attributes.START_TIME_SAT, \" to \", this.props.info.attributes.END_TIME_SAT), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Morning: $\", this.props.info.attributes.SAT_RATE1, \" / hr\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Afternoon: $\", this.props.info.attributes.SAT_RATE2, \" / hr\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Evening: $\", this.props.info.attributes.SAT_RATE3, \" / hr\"))), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Comment:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"comment\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Comments\"), React.createElement(\"ul\", {\n        className: \"list-unstyled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return PopupText;\n}(Component);\n\nexport default PopupText;","map":{"version":3,"sources":["/Users/leocai/Study/INFO340/final-project/easy-parking-seattle/src/PopupText.js"],"names":["React","Component","firebase","PopupText","props","handleSubmit","bind","handleChange","state","key","commentsOb","comments","comment","console","log","info","pkey","attributes","OBJECTID","commentsRef","database","ref","child","on","snapshot","values","val","setState","e","target","value","update","push","catch","d","preventDefault","reset","UNITDESC","START_TIME_WKD","END_TIME_WKD","WKD_RATE1","WKD_RATE2","WKD_RATE3","START_TIME_SAT","END_TIME_SAT","SAT_RATE1","SAT_RATE2","SAT_RATE3"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nclass PopupText extends Component {\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.state = {\n            key: \"\",\n            commentsOb: {},\n            comments: null,\n            comment: \"\"\n        };\n    }\n\n    componentDidMount() {\n        // Create a reference to the \"tweets\" reference on the \n        console.log(this.props.info);\n        let pkey = this.props.info.attributes.OBJECTID;\n        this.commentsRef = firebase.database().ref('comments').child(pkey);\n\n        // When the \"tweets\" *value* changes, update the state appropriately (`tweets`)\n        this.commentsRef.on('value', (snapshot) => {\n            let values = snapshot.val();\n            console.log(values);\n            // let values = [\"empty\", \"empty1\"];\n            this.setState({\n                comments: values\n            });\n        });\n    }\n\n    handleChange(e) {\n        this.setState({ comment: e.target.value });\n    }\n\n    handleSubmit(e) {\n        let values = this.state.comments;\n        let update = [...values, this.state.comment];\n        console.log(update);\n        this.setState({\n            comments: update\n        });\n        this.commentsRef.push(this.state.comment).catch((d) => console.log(\"error\", d));\n        e.preventDefault();\n        e.target.reset();\n    }\n\n    render() {\n        console.log(this.state.comments);\n        return (\n            <>\n                <div><b>Type:</b> Street Parking</div>\n                <div><b>Location:</b> {this.props.info.attributes.UNITDESC}</div>\n                <div><b>Paid Parking Hours and Rates:</b>\n                    <ul>\n                        <li>Monday - Friday: {this.props.info.attributes.START_TIME_WKD} to {this.props.info.attributes.END_TIME_WKD}</li>\n                        <ul>\n                            <li>Morning: ${this.props.info.attributes.WKD_RATE1} / hr</li>\n                            <li>Afternoon: ${this.props.info.attributes.WKD_RATE2} / hr</li>\n                            <li>Evening: ${this.props.info.attributes.WKD_RATE3} / hr</li>\n                        </ul>\n                    </ul>\n                    <ul>\n                        <li>Saturday: {this.props.info.attributes.START_TIME_SAT} to {this.props.info.attributes.END_TIME_SAT}</li>\n                        <ul>\n                            <li>Morning: ${this.props.info.attributes.SAT_RATE1} / hr</li>\n                            <li>Afternoon: ${this.props.info.attributes.SAT_RATE2} / hr</li>\n                            <li>Evening: ${this.props.info.attributes.SAT_RATE3} / hr</li>\n                        </ul>\n                    </ul>\n                    <form onSubmit={this.handleSubmit}>\n                        <label>Comment:\n                            <input type=\"text\"\n                                name=\"comment\"\n                                onChange={this.handleChange}\n                            />\n                        </label>\n                        <input type=\"submit\" value=\"Submit\" />\n                    </form>\n                    <div>Comments</div>\n                    <ul className=\"list-unstyled\">\n\n                        <div>\n                            {/* {(() => {\n                                if (this.state.comments.is) {\n                                    return (\n                                        this.state.comments.map(c => <li key={c}>{c}</li>)\n                                    )\n                                } else {\n                                    return (\n                                        <li>Null</li>\n                                    )\n                                }\n                            })()} */}\n                        </div>\n                        \n                    </ul>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default PopupText;"]},"metadata":{},"sourceType":"module"}